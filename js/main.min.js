"use strict";new Vue({el:"#app",data:{robo:"",sucessForm:!1,numero:"",mensagem:"",link:"",urlWpp:"https://api.whatsapp.com/send?",bitly:"https://api-ssl.bitly.com/v3/shorten?access_token=aed3b706f46bbb946a5cacec6af77a544241f719&longUrl=",mensagemError:"",encurtado:!1},methods:{gerarLink:function(t){if(t.preventDefault(),""==this.robo&&(this.numero.length>2?(this.link=this.urlWpp+"phone=55"+this.apenasNumeros(this.numero),this.sucessForm=!0):this.mensagemError="Preencha com seu número.",this.numero&&this.mensagem)){var e=encodeURIComponent(this.mensagem);this.link=this.urlWpp+"phone=55"+this.apenasNumeros(this.numero)+"&text="+e,this.sucessForm=!0}},apenasNumeros:function(t){var e=t.replace(/[^0-9]/g,"");return parseInt(e)},validaNumero:function(t){var e=t.target;this.mensagemError="",VMasker(e).maskPattern("(99) 99999-9999")},gerarNovoLink:function(t){this.resetForm(),document.querySelector(".form__submit--short").innerHTML="Encurtar",this.encurtado=!1,this.sucessForm=!1},resetForm:function(t){this.numero="",this.mensagem="",this.link="https://api.whatsapp.com/send?"},ajaxBitly:function(t){var e=this;this.bitly+=encodeURIComponent(this.link),axios.get(this.bitly).then(function(n){e.link=n.data.data.url,e.copiarLink(t)})["catch"](function(t){console.log(t),alert("Não foi possivel criar o link encurtado!")})},copyToClipboard:function(t){var e=document.querySelector(t);e.select(),document.execCommand("copy")},hasShortLink:function(t){return t.classList.contains("form__submit--short")?!0:!1},copiarLink:function(t){var e=this,n=t.target,o=null;if(!this.robo)try{this.copyToClipboard(".form__input--text"),this.hasShortLink(n)?(n.innerHTML="Encurtando...",this.encurtado=!0):n.innerHTML="Copiado!",o=setTimeout(function(t){return e.hasShortLink(n)?n.innerHTML="Encurtado":void(n.innerHTML="Copiar link")},1e3)}catch(r){console.log(r),n.innerHTML="Copiar Link",alert("Infelizmente, nãoo conseguimos copiar o texto. É possivel que o seu navegador não tenha suporte. Tente usar Crtl+C.")}}}});